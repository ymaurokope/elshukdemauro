<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Shuk de Mauro - Productos Kosher</title>
    <style>
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff; /* Blanco */
            color: #333; /* Negro */
            line-height: 1.6;
        }
        header {
            background-color: #000080; /* Azul navy */
            color: white;
            padding: 60px 20px;
            text-align: center;
            min-height: 100vh; /* Pantalla completa */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        header h1 {
            font-size: 2.8em;
            margin: 0;
        }
        header p {
            font-size: 1.2em;
            margin: 10px 0;
        }
        nav {
            margin-top: 20px;
        }
        nav a {
            color: white;
            margin: 0 20px;
            text-decoration: none;
            font-weight: 500;
            font-size: 1.1em;
            cursor: pointer;
        }
        nav a:hover {
            text-decoration: underline;
        }
        section {
            padding: 60px 20px;
            max-width: 1200px;
            margin: 0 auto;
            background-color: #ffffff; /* Blanco */
            display: none; /* Ocultas inicialmente */
        }
        .productos {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        .producto {
            background: #ffffff; /* Blanco */
            border: 1px solid #000080; /* Azul navy */
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        .producto img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
        }
        .carrito {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ffffff; /* Blanco */
            border: 1px solid #000000; /* Negro */
            padding: 15px;
            border-radius: 12px;
            width: 280px;
            z-index: 1000;
        }
        .carrito h3 {
            margin-top: 0;
            color: #000000; /* Negro */
        }
        .carrito ul {
            list-style: none;
            padding: 0;
        }
        .carrito li {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
        }
        button {
            background-color: #000080; /* Azul navy */
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
        }
        button:hover {
            background-color: #0000ff; /* Azul más claro */
        }
        footer {
            background-color: #000080; /* Azul navy */
            color: white;
            text-align: center;
            padding: 30px 20px;
        }
    </style>
</head>
<body>
    <header id="inicio">
        <img src="logo.png" alt="Logo El Shuk de Mauro" style="max-width: 120px; margin-bottom: 20px;">
        <h1>El Shuk de Mauro</h1>
        <p>Productos Kosher frescos y tradicionales</p>
        <nav id="nav-dinamico">
            <a href="#inicio" onclick="scrollToSection('inicio')">Inicio</a>
            <!-- Los enlaces a secciones de productos se agregan dinámicamente -->
        </nav>
    </header>

    <!-- Carrito flotante -->
    <div class="carrito">
        <h3>Carrito de Compras</h3>
        <ul id="carrito-lista"></ul>
        <p>Total: $<span id="total">0.00</span></p>
        <button onclick="vaciarCarrito()">Vaciar Carrito</button>
    </div>

    <!-- Las secciones de productos se crean dinámicamente aquí -->
    <div id="secciones-dinamicas"></div>

    <footer>
        <p>&copy; 2023 El Shuk de Mauro. Todos los derechos reservados.</p>
    </footer>

    <script>
        let carrito = [];
        let total = 0;

        function agregarAlCarrito(producto, precio) {
            carrito.push({ nombre: producto, precio: precio });
            total += precio;
            actualizarCarrito();
        }

        function vaciarCarrito() {
            carrito = [];
            total = 0;
            actualizarCarrito();
        }

        function actualizarCarrito() {
            const lista = document.getElementById('carrito-lista');
            lista.innerHTML = '';
            carrito.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.nombre} - $${item.precio}`;
                lista.appendChild(li);
            });
            document.getElementById('total').textContent = total.toFixed(2);
        }

        // Función para scroll suave a secciones
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.style.display = 'block'; // Mostrar la sección si está oculta
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Cargar todas las hojas desde Google Sheets como secciones de productos
        const SPREADSHEET_ID = '12ExA7NgqPKauNdTAQpmSzV9AjzfKPbTeIoaFPN2gDwg';
        const API_KEY = '0a05c2cbcb44e8efaad71f59d2a0403d8c48bb7f'; // Tu API key real

        // Obtener lista de hojas
        fetch(`https://sheets.googleapis.com/v4/spreadsheets/${SPREADSHEET_ID}?key=${API_KEY}`)
            .then(response => response.json())
            .then(data => {
                const sheets = data.sheets.map(sheet => sheet.properties.title);
                const navDinamico = document.getElementById('nav-dinamico');
                const seccionesDinamicas = document.getElementById('secciones-dinamicas');

                sheets.forEach(sheetName => {
                    // Agregar enlace al nav
                    const navLink = document.createElement('a');
                    navLink.href = `#${sheetName.toLowerCase().replace(/\s+/g, '-')}`;
                    navLink.textContent = sheetName;
                    navLink.onclick = () => scrollToSection(sheetName.toLowerCase().replace(/\s+/g, '-'));
                    navDinamico.appendChild(navLink);

                    // Crear sección de productos
                    const section = document.createElement('section');
                    section.id = sheetName.toLowerCase().replace(/\s+/g, '-');
                    section.innerHTML = `<h2>${sheetName}</h2><div class="productos" id="productos-${sheetName.toLowerCase().replace(/\s+/g, '-')}"></div>`;
                    seccionesDinamicas.appendChild(section);

                    // Cargar productos de la hoja
                    const range = `${sheetName}!A:D`; // Asumiendo columnas: Nombre, Descripción, Precio, Imagen URL
                    fetch(`https://sheets.googleapis.com/v4/spreadsheets/${SPREADSHEET_ID}/values/${range}?key=${API_KEY}`)
                        .then(response => response.json())
                        .then(sheetData => {
                            const productosDiv = document.getElementById(`productos-${sheetName.toLowerCase().replace(/\s+/g, '-')}`);
                            sheetData.values.slice(1).forEach(row => { // Saltar header
                                const [nombre, descripcion, precio, imagen] = row;
                                const productoDiv = document.createElement('div');
                                productoDiv.className = 'producto';
                                productoDiv.innerHTML = `
                                    <img src="${imagen || 'https://via.placeholder.com/300x200?text=Producto'}" alt="${nombre}">
                                    <h3>${nombre}</h3>
                                    <p>${descripcion}</p>
                                    <p>Precio: $${precio}</p>
                                    <button onclick="agregarAlCarrito('${nombre}', ${precio})">Agregar al Carrito</button>
                                `;
                                productosDiv.appendChild(productoDiv);
                            });
                        })
                        .catch(error => console.error(`Error cargando productos de ${sheetName}:`, error));
                });
            })
            .catch(error => console.error('Error obteniendo hojas:', error));
    </script>
</body>
</html>
